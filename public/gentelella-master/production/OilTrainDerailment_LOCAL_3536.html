<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>San Jose Disaster Management Center </title>

  
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">

    <!-- bootstrap-progressbar -->
    <link href="../vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="../vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>
    <!-- bootstrap-daterangepicker -->
    <link href="../vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">
      <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
         height: 400px;
			width: 100%
      }
           #demomap1 {
               margin-left: 20px;
         height: 300px;
        width: 300px;
      }
           #demomap2 {
               margin-left: 140px;
         height: 300px;
        width: 300px;
      }
           #demomap3 {
               margin-left:250px;
         height: 300px;
        width: 300px;
      }
          
           #eqmap {
               margin-left: 75px;
                 height: 300px;
			width: 80%
      }
      /* Optional: Makes the sample page fill the window. */
      /*html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }*/
    </style>
  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title"><span style="font-size:14px">San Jose Disaster Management Center</span></a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_pic">
                <img src="images/gao-jerry.jpg" alt="..." class="img-circle profile_img">
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h2>Admin</h2>
              </div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li><a><i class="fa fa-home"></i> Home <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                  <li><a href="index.html">Flood</a></li>
                      <li><a href="earthquake2.html">Earthquake</a></li>
                      <li><a href="OilTrainDerailment.html">Oil Train Derailment</a></li>
                        <li><a href="Biological.html">Biological Disaster</a></li>
                    </ul>
                  </li>
                  <li><a><i class="fa fa-edit"></i> Register <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="login.html#register">Register User</a></li>
                     
                    </ul>
                  </li>
                 
                  <li><a><i class="fa fa-table"></i> Demographic Info <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="tables.html">Demographic Information</a></li>
<!--
                      <li><a href="tables_dynamic.html">Table Dynamic</a></li>
-->
                    </ul>
                  </li>
                 
                </ul>
              </div>
          
            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            
            <!-- /menu footer buttons -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <nav>
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
              </div>

              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="images/gao-jerry.jpg" alt="">Admin
                    <span class=" fa fa-angle-down"></span>
                  </a>
                  <ul class="dropdown-menu dropdown-usermenu pull-right">
                    <li><a href="javascript:;"> Profile</a></li>
                    <li>
                      <a href="javascript:;">
                        <span class="badge bg-red pull-right">50%</span>
                        <span>Settings</span>
                      </a>
                    </li>
                    <li><a href="javascript:;">Help</a></li>
                    <li><a href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                  </ul>
                </li>

                <li role="presentation" class="dropdown">
                  <!--<a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-envelope-o"></i>
                    <span class="badge bg-green">6</span>
                  </a>-->
                  </li></ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <!-- top tiles -->
          <div class="row tile_count">
            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total population</span>
              <div class="count">130604</div>
            </div>
          
            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total Males</span>
              <div class="count green">56,500</div>
            </div>
            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total Females</span>
              <div class="count">54,567</div>
            </div>
            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total Houses</span>
              <div class="count">26,315</div>
            </div>
            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i>Community Centers</span>
              <div class="count">1,325</div>
            </div>
          
             <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i>  Food Storage Places</span>
              <div class="count">2,325</div>
            </div>
          </div>
          <!-- /top tiles -->

          <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="dashboard_graph">

                <div class="row x_title">
                  <div class="col-md-6">
                    <h3>Sesimic Activities </h3>
                  </div>
                  <div class="col-md-6"> 
                  <!--  <div id="reportrange" class="pull-right" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                      <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                      <span>December 30, 2000 - January 28, 2015</span> <b class="caret"></b>
                    </div>-->
                  </div>
                </div>

               <div class="col-md-12 col-sm-12 col-xs-12">
                  <!--<div id="chart_plot_01" class="demo-placeholder"></div>-->
                  <!--change done by jeyanthh-->
                   <div id="map" ></div>
                  
          
                
                </div>

                <!--<div class="clearfix"></div>-->
              </div>
            </div>
             
          </div>
          <br />

		  <!-- Middle div by Sindhuja -->
          <div class="row">
		  	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		  <div class="container">
			<div class="col-md-4 col-sm-4 col-xs-4">
				<h4>Select region: </h4>		
				<select class="form-control">
					<option value="SanJose">San Jose</option>
					<option value="Milpitas">Milpitas</option>
					<option value="Sunnyvale">Sunnyvale</option>
                    <option value="Santa Clara">Santa Clara</option>
				</select>
			
			</div> 
			<div class="col-md-4 col-sm-4 col-xs-4">
				<h4>Select Ritcher-scale: </h4>		
				<select class="form-control">
					<option value="0-3">0-3</option>
					<option value="3-6">3-6</option>
					<option value="6-9">6-9</option>
					<option value="10">10</option>
				</select>
			
			</div> 
              <br><br>
             &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <button type="button" class="btn btn-primary">Impact</button>    <br><br>
            <div id="eqmap"></div> 
              
          <br><br>
		  </div>
		  
		   <div class="row">
		   	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<div class="container">
			<div class="col-md-4 col-sm-4 col-xs-4">
				<h4>Select time-range: </h4>		
				<select class="form-control">
					<option value="8am - 6pm">8am - 6pm</option>
					<option value="6pm - 11pm">6pm - 11pm</option>
					<option value="11pm - 8am">11pm - 8am </option>
				</select>
			
			</div> 
			<div class="col-md-4 col-sm-4 col-xs-4">
				<h4>Select alerting style: </h4>		
				<select class="form-control">
					<option value="IPAWS">IPAWs</option>
					<option value="WMEA">WMEA</option>
					<option value="AlertSCC">AlertSCC</option>
				</select>
			
			</div> 
			<br><br><br><br><br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<button type="button" class="btn btn-primary">Play Simulation</button>
	
			
			</div> 
		  
		  </div>
		  
		  <br><br><br><br>


          <div class="row">
         

            <div class="col-md-8 col-sm-8 col-xs-12">
              <div class="row">
         

              </div>
                <!--modified by Jeyanthh-->
              <div class="row">

			<h2>Demographic/Emergency Services Information </h2>
			  <div class="col-md-4">
				  <h3>Hospitals </h3>
				  <div id="demomap1"></div> </div>
			  <div class="col-md-4">
				  <h3 style="margin-left:120px">Communites</h3>
						  <div id="demomap2"></div> </div>    
			  <div class="col-md-4">
				  <h3 style="margin-left:300px">Food</h3>
						 <div id="demomap3"></div> </div>     

						  </div>
						</div>
					  </div>
					</div>
					<!-- /page content -->

					<!-- footer content -->
					<footer>
					  <div class="pull-right">
			<!--
						Gentelella - Bootstrap Admin Template by <a href="https://colorlib.com">Colorlib</a>
			-->
					  </div>
					  <div class="clearfix"></div>
					</footer>
					<!-- /footer content -->
				  </div>
				</div>
			 <script src="js/jquery.js"></script>

				<!-- Bootstrap Core JavaScript -->
				<script src="js/bootstrap.min.js"></script>
				<!-- jQuery -->
				<script src="../vendors/jquery/dist/jquery.min.js"></script>
				<!-- Bootstrap -->
				<script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
				<!-- FastClick -->
				<script src="../vendors/fastclick/lib/fastclick.js"></script>
				<!-- NProgress -->
				<script src="../vendors/nprogress/nprogress.js"></script>
				<!-- Chart.js -->
				<script src="../vendors/Chart.js/dist/Chart.min.js"></script>
				<!-- gauge.js -->
				<script src="../vendors/gauge.js/dist/gauge.min.js"></script>
				<!-- bootstrap-progressbar -->
				<script src="../vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
				<!-- iCheck -->
				<script src="../vendors/iCheck/icheck.min.js"></script>
				<!-- Skycons -->
				<script src="../vendors/skycons/skycons.js"></script>
				<!-- Flot -->
				<script src="../vendors/Flot/jquery.flot.js"></script>
				<script src="../vendors/Flot/jquery.flot.pie.js"></script>
				<script src="../vendors/Flot/jquery.flot.time.js"></script>
				<script src="../vendors/Flot/jquery.flot.stack.js"></script>
				<script src="../vendors/Flot/jquery.flot.resize.js"></script>
				<!-- Flot plugins -->
				<script src="../vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
				<script src="../vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
				<script src="../vendors/flot.curvedlines/curvedLines.js"></script>
				<!-- DateJS -->
				<script src="../vendors/DateJS/build/date.js"></script>
				<!-- JQVMap -->
				<script src="../vendors/jqvmap/dist/jquery.vmap.js"></script>
				<script src="../vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
				<script src="../vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
				<!-- bootstrap-daterangepicker -->
				<script src="../vendors/moment/min/moment.min.js"></script>
				<script src="../vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
				   <!-- Jeyanthh -->
					<script src="../vendors/jeyanthh/filename.js"></script>

				<!-- Custom Theme Scripts -->
				<script src="../build/js/custom.min.js"></script>
					<script src="mapdata.js"></script>

			<script>

			// [START script-body]
				  var map,eqmap,demomap1,demomap2,demomap3;

				  function initMap() {
					
         map = new google.maps.Map(document.getElementById('map'), {
          zoom: 13,
          center: {lat: 51.501904, lng: -0.115871}
        });

        var transitLayer = new google.maps.TransitLayer();
        transitLayer.setMap(map);
      
	eqmap = new google.maps.Map(document.getElementById('eqmap'), {
					  center: { lat: 37.3342, lng: -121.8903},
					  zoom: 2
       
					});
					 demomap1 = new google.maps.Map(document.getElementById('demomap1'), {
					  zoom: 10,
					  center: {lat: 37.3342, lng: -121.8903},
					  mapTypeId: 'terrain',
                          scrollwheel: true,
  draggable: true
					});
					   demomap2 = new google.maps.Map(document.getElementById('demomap2'), {
					  zoom: 10,
					  center: {lat:  37.368832, lng: -122.036346},
					  mapTypeId: 'terrain',
                            scrollwheel: true,
  draggable: true
					});
					  demomap3 = new google.maps.Map(document.getElementById('demomap3'), {
					  zoom: 10,
					  center: {lat:  37.368832, lng: -122.036346},
					  mapTypeId: 'terrain',
                           scrollwheel: true,
  draggable: true
					});  
					  /*eqmap = new google.maps.Map(document.getElementById('demomap3'), {
					  zoom: 14,
					  center: {lat:  37.368832, lng: -122.036346},
					  mapTypeId: 'terrain'
					}); */ 
					  
					  
					// Get the earthquake data (JSONP format)
					// This feed is a copy from the USGS feed, you can find the originals here:
					//   http://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php
					var script = document.createElement('script');
					script.setAttribute(
						'src',
						'https://storage.googleapis.com/mapsdevsite/json/quakes.geo.json');
							  /*script.src = 'https://developers.google.com/maps/documentation/javascript/examples/json/earthquake_GeoJSONP.js';*/

					document.getElementsByTagName('head')[0].appendChild(script);

					// Add a basic style.
					/*map.data.setStyle(function(feature) {
					  var mag = Math.exp(parseFloat(feature.getProperty('mag'))) * 0.1;
					  return * @type {google.maps.Data.StyleOptions} ({
						icon: {
						  path: google.maps.SymbolPath.CIRCLE,
						  scale: mag,
						  fillColor: '#f00',
						  fillOpacity: 0.35,
						  strokeWeight: 0
						}
					  });
					});*/
                      
                      	eqmap.data.setStyle(function(feature) {
					  var mag = Math.exp(parseFloat(feature.getProperty('mag'))) * 0.1;
					  return /** @type {google.maps.Data.StyleOptions} */({
						icon: {
						  path: google.maps.SymbolPath.CIRCLE,
						  scale: mag,
						  fillColor: '#f00',
						  fillOpacity: 0.35,
						  strokeWeight: 0
						}
					  });
					});
					
					mapfeed_callback();
				  }

				  // Defines the callback function referenced in the jsonp file.
				  function eqfeed_callback(results) {
					/*map.data.addGeoJson(results);*/
					 eqmap.data.addGeoJson(results); 
					   var heatmapData = [];
					for (var i = 0; i < results.features.length; i++) {
					  var coords = results.features[i].geometry.coordinates;
					  var latLng = new google.maps.LatLng(coords[1], coords[0]);
					  heatmapData.push(latLng);
					}
			   
					  
					/*	 var marker = new google.maps.Marker({
					  position: {lat: 37.3342, lng: -121.8903},
					  map: demomap1,
					  title: 'Hospitals!'
					});
					  
						 var marker = new google.maps.Marker({
					  position: {lat: 37.3340, lng: -121.8902},
					  map: demomap1,
					  title: 'Hospitals!'
					});   var marker = new google.maps.Marker({
					  position: {lat: 37.3361, lng: -121.8913},
					  map: demomap1,
					  title: 'Hospitals!'
					});
					  
						 var marker = new google.maps.Marker({
					  position: {lat: 37.3340, lng: -121.8943},
					  map: demomap1,
					  title: 'Hospitals!'
					});
						 var marker = new google.maps.Marker({
					  position: {lat: 37.3342, lng: -121.8922},
					  map: demomap1,
					  title: 'Hospitals!'
					}); */
					  
					  
				  }
				  
				  
				    // defines the callback function for hospitals
				 function mapfeed_callback(){
					for(var i=0;i<mapdata.maplocations.length;i++)
					{					
						var latitude = mapdata.maplocations[i].latitude;
						var longitude = mapdata.maplocations[i].longitude;
						var LatandLong = new google.maps.LatLng(latitude,longitude);
						console.log(LatandLong);
						
						if(mapdata.maplocations[i].type=="Hospital"){
						var MarkerPin = new google.maps.Marker({
								position: LatandLong,
								map: demomap1,
                                label: mapdata.maplocations[i].name,
								icon:"/295/public/gentelella-master/production/images/hospital.png" ,
							});
						}
						
						if(mapdata.maplocations[i].type=="Communities"){
						var MarkerPin = new google.maps.Marker({
								position: LatandLong,
								map: demomap2,
                                label: mapdata.maplocations[i].name,
								icon:"/295/public/gentelella-master/production/images/communities.png" ,
							});
						}
						if(mapdata.maplocations[i].type=="Food"){
						var MarkerPin = new google.maps.Marker({
								position: LatandLong,
								map: demomap3,
                                label: mapdata.maplocations[i].name,
								icon:"/295/public/gentelella-master/production/images/food.png" ,
							});
						}
					
				  				  
					
					} 
				}						  
				  
			// [END script-body]

				</script>
				<script async defer
					src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIH81nTclniiog-BWxdOT8Cd7_czwok14&libraries=visualization&&callback=initMap"></script>
      </div>
			  </body>
			</html>
